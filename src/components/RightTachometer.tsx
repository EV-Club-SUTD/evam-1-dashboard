import React from 'react';
import Animated, {
  interpolate,
  useAnimatedProps,
} from 'react-native-reanimated';
import Svg, {
  Mask,
  Path,
  G,
  Rect,
  Defs,
  LinearGradient,
  Stop,
} from 'react-native-svg';

import { FINAL_TACHOMETER_HEIGHT } from '../utils/config';

const AnimatedRect = Animated.createAnimatedComponent(Rect);

interface RightTachometerProps {
  progress: Animated.SharedValue<number>;
}

const RightTachometer = ({ progress }: RightTachometerProps) => {
  const animatedProps = useAnimatedProps(() => {
    return {
      height: interpolate(progress.value, [0, 100], [834, 0]),
    };
  });
  return (
    <Svg
      width={FINAL_TACHOMETER_HEIGHT * 0.66325}
      height={FINAL_TACHOMETER_HEIGHT}
      viewBox='0 0 567 848'
      fill='none'>
      <Mask
        id='mask0'
        mask-type='alpha'
        maskUnits='userSpaceOnUse'
        x={268}
        y={0}
        width={834}
        height={834}>
        <Path
          fillRule='evenodd'
          clipRule='evenodd'
          d='M362 492.405L364.5 483.368C364.5 483.368 365.59 479.457 367.432 472.418L433.922 472.418L428.316 492.405L362 492.405ZM354.711 518.752L360.241 498.765L426.532 498.765L420.926 518.752L354.711 518.752ZM347.423 545.098L352.952 525.111L419.142 525.111L413.536 545.098L347.423 545.098ZM340.134 571.444L345.664 551.458L411.752 551.458L406.146 571.444L340.134 571.444ZM332.846 597.791L338.375 577.804L404.362 577.804L398.756 597.791L332.846 597.791ZM325.557 624.137L331.086 604.15L396.972 604.15L391.366 624.137L325.557 624.137ZM318.269 650.484L323.798 630.497L389.582 630.497L383.976 650.484L318.269 650.484ZM310.98 676.83L316.509 656.843L382.192 656.843L376.586 676.83L310.98 676.83ZM303.943 702.268L309.221 683.19L374.802 683.19L369.45 702.268L303.943 702.268ZM296.654 728.614L301.932 709.536L367.412 709.536L362.06 728.614L296.654 728.614ZM289.366 754.961L294.644 735.882L360.022 735.882L354.67 754.961L289.366 754.961ZM282.077 781.307L287.606 761.32L352.886 761.32L347.28 781.307L282.077 781.307ZM274.789 807.654L280.318 787.667L345.496 787.667L339.89 807.654L274.789 807.654ZM268 832.193L273.029 814.013L338.106 814.013L332.5 834L268 834L268 832.193ZM441.057 446.98L435.706 466.059L369.08 466.059C370.445 460.738 372.059 454.318 373.844 446.98L441.057 446.98ZM448.448 420.634L443.096 439.712L375.596 439.712C377.005 433.808 378.496 427.423 380.037 420.634L448.448 420.634ZM455.838 394.288L450.486 413.366L381.67 413.366C383.025 407.272 384.409 400.896 385.8 394.288L455.838 394.288ZM463.228 367.941L457.876 387.02L387.312 387.02C388.586 380.828 389.86 374.456 391.118 367.941L463.228 367.941ZM470.618 341.595L465.011 361.582L392.332 361.582C393.566 355.036 394.78 348.362 395.957 341.595L470.618 341.595ZM478.008 315.248L472.401 335.235L397.048 335.235C398.163 328.638 399.239 321.965 400.262 315.248L478.008 315.248ZM485.398 288.902L479.792 308.889L401.213 308.889C402.187 302.248 403.106 295.576 403.955 288.902L485.398 288.902ZM492.788 262.556L487.182 282.542L404.744 282.542C405.549 275.861 406.282 269.188 406.927 262.556L492.788 262.556ZM500.178 236.209L494.572 256.196L407.519 256.196C408.118 249.47 408.623 242.797 409.018 236.209L500.178 236.209ZM507.568 209.863L501.962 229.85L409.366 229.85C409.702 223.071 409.915 216.397 409.99 209.863L507.568 209.863ZM514.958 183.516L509.352 203.503L410.018 203.503C410 196.653 409.818 189.976 409.455 183.516L514.958 183.516ZM522.348 157.17L516.742 177.157L409.033 177.157C408.496 170.191 407.731 163.509 406.71 157.17L522.348 157.17ZM529.483 131.732L524.132 150.81L405.575 150.81C405.39 149.867 405.198 148.932 405 148.006C403.801 142.4 402.616 136.977 401.448 131.732L529.483 131.732ZM536.873 105.386L531.522 124.464L399.815 124.464C398.304 117.804 396.823 111.447 395.377 105.386L536.873 105.386ZM544.263 79.0392L538.912 98.1176L393.624 98.1176C391.98 91.3705 390.383 85.0154 388.841 79.0392L544.263 79.0392ZM551.653 52.6928L546.047 72.6797L387.182 72.6797C385.268 65.4203 383.445 58.7671 381.725 52.6928L551.653 52.6928ZM559.044 26.3464L553.437 46.3333L379.901 46.3333C377.666 38.6426 375.629 32.003 373.821 26.3464L559.044 26.3464ZM566.434 -1.30449e-05L560.827 19.9869L371.749 19.9869C367.153 6.14245 364.5 -4.21816e-06 364.5 -4.21816e-06L566.434 -1.30449e-05Z'
          fill='url(#paint0_linear)'
        />
      </Mask>
      <G mask='url(#mask0)'>
        <Path
          fillRule='evenodd'
          clipRule='evenodd'
          d='M361.566 492.405L364.067 483.368C364.067 483.368 365.156 479.457 366.999 472.418L433.489 472.418L427.882 492.405L361.566 492.405ZM354.278 518.752L359.807 498.765L426.099 498.765L420.492 518.752L354.278 518.752ZM346.989 545.098L352.518 525.111L418.709 525.111L413.102 545.098L346.989 545.098ZM339.701 571.444L345.23 551.458L411.318 551.458L405.712 571.444L339.701 571.444ZM332.412 597.791L337.941 577.804L403.928 577.804L398.322 597.791L332.412 597.791ZM325.124 624.137L330.653 604.15L396.538 604.15L390.932 624.137L325.124 624.137ZM317.835 650.484L323.364 630.497L389.148 630.497L383.542 650.484L317.835 650.484ZM310.546 676.83L316.076 656.843L381.758 656.843L376.152 676.83L310.546 676.83ZM303.509 702.268L308.787 683.19L374.368 683.19L369.017 702.268L303.509 702.268ZM296.221 728.614L301.499 709.536L366.978 709.536L361.627 728.614L296.221 728.614ZM288.932 754.961L294.21 735.882L359.588 735.882L354.237 754.961L288.932 754.961ZM281.644 781.307L287.173 761.32L352.453 761.32L346.847 781.307L281.644 781.307ZM274.355 807.654L279.884 787.667L345.063 787.667L339.457 807.654L274.355 807.654ZM268 830.626L272.596 814.013L337.673 814.013L332.067 834L268 834L268 830.626ZM440.624 446.98L435.272 466.059L368.646 466.059C370.011 460.738 371.625 454.318 373.411 446.98L440.624 446.98ZM448.014 420.634L442.663 439.712L375.162 439.712C376.572 433.808 378.063 427.423 379.603 420.634L448.014 420.634ZM455.404 394.288L450.053 413.366L381.236 413.366C382.591 407.272 383.975 400.896 385.366 394.288L455.404 394.288ZM462.794 367.941L457.443 387.02L386.879 387.02C388.153 380.828 389.427 374.456 390.684 367.941L462.794 367.941ZM470.184 341.595L464.578 361.582L391.898 361.582C393.133 355.036 394.347 348.362 395.524 341.595L470.184 341.595ZM477.574 315.248L471.968 335.235L396.614 335.235C397.729 328.638 398.805 321.965 399.829 315.248L477.574 315.248ZM484.964 288.902L479.358 308.889L400.78 308.889C401.754 302.248 402.672 295.576 403.522 288.902L484.964 288.902ZM492.354 262.556L486.748 282.542L404.31 282.542C405.116 275.861 405.848 269.188 406.493 262.556L492.354 262.556ZM499.744 236.209L494.138 256.196L407.086 256.196C407.685 249.47 408.189 242.797 408.584 236.209L499.744 236.209ZM507.134 209.863L501.528 229.85L408.933 229.85C409.268 223.071 409.482 216.397 409.556 209.863L507.134 209.863ZM514.524 183.516L508.918 203.503L409.585 203.503C409.566 196.653 409.385 189.976 409.022 183.516L514.524 183.516ZM521.914 157.17L516.308 177.157L408.599 177.157C408.063 170.191 407.297 163.509 406.276 157.17L521.914 157.17ZM529.05 131.732L523.698 150.81L405.142 150.81C404.956 149.867 404.765 148.932 404.567 148.006C403.367 142.4 402.182 136.977 401.015 131.732L529.05 131.732ZM536.44 105.386L531.088 124.464L399.381 124.464C397.87 117.804 396.39 111.447 394.943 105.386L536.44 105.386ZM543.83 79.0392L538.478 98.1176L393.19 98.1176C391.546 91.3705 389.95 85.0154 388.407 79.0392L543.83 79.0392ZM551.22 52.6928L545.614 72.6797L386.748 72.6797C384.835 65.4203 383.012 58.7671 381.291 52.6928L551.22 52.6928ZM558.61 26.3464L553.004 46.3333L379.467 46.3333C377.232 38.6426 375.195 32.003 373.387 26.3464L558.61 26.3464ZM566 -1.3026e-05L560.394 19.9869L371.316 19.9869C366.719 6.14245 364.067 -4.1992e-06 364.067 -4.1992e-06L566 -1.3026e-05Z'
          fill='url(#paint1_linear)'
        />
        <AnimatedRect
          animatedProps={animatedProps}
          width={298}
          transform='matrix(-1 0 0 1 566.434 0)'
          fill='black'
          fillOpacity={0.75}
        />
      </G>
      <Path
        d='M23.232 834H26.832V803.76H36.288V800.4H13.824V803.76H23.232V834ZM42.1414 834H45.7414V818.784H61.9654V834H65.5654V800.4H61.9654V815.424H45.7414V800.4H42.1414V834ZM73.6414 834H77.2414V820.944H84.8734L93.3214 834H97.6414L88.6174 820.224C93.2734 819.072 96.5854 815.856 96.5854 810.528V810.432C96.5854 807.6 95.6254 805.2 93.9454 803.52C92.0254 801.552 88.9534 800.4 85.1134 800.4H73.6414V834ZM77.2414 817.68V803.712H84.8734C89.9134 803.712 92.9854 806.16 92.9854 810.576V810.672C92.9854 814.944 89.9614 817.68 84.4894 817.68H77.2414ZM116.606 834.528C125.15 834.528 131.054 827.232 131.054 817.344V816.96C131.054 807.12 125.198 799.872 116.654 799.872C108.11 799.872 102.158 807.168 102.158 817.056V817.44C102.158 827.28 108.014 834.528 116.606 834.528ZM116.654 831.216C110.462 831.216 105.902 825.456 105.902 817.344V817.008C105.902 808.896 110.414 803.184 116.606 803.184C122.798 803.184 127.358 808.944 127.358 817.056V817.392C127.358 825.504 122.846 831.216 116.654 831.216ZM143.091 834H146.691V803.76H156.147V800.4H133.683V803.76H143.091V834ZM169.201 834H172.801V803.76H182.257V800.4H159.793V803.76H169.201V834ZM188.11 834H207.31V830.688H191.71V800.4H188.11V834ZM213.001 834H233.737V830.688H216.601V818.688H231.769V815.424H216.601V803.712H233.497V800.4H213.001V834Z'
        fill='white'
      />
      <Path d='M0 847H325' stroke='white' strokeWidth={2} />
      <Defs>
        <LinearGradient
          id='paint0_linear'
          x1={567}
          y1={834}
          x2={567}
          y2={-0.0000192336}
          gradientUnits='userSpaceOnUse'>
          <Stop stopColor='#00C2FF' />
          <Stop offset={0.440625} stopColor='#AFE550' />
          <Stop offset={0.794792} stopColor='#FFF500' />
          <Stop offset={1} stopColor='#FF0000' />
        </LinearGradient>
        <LinearGradient
          id='paint1_linear'
          x1={566.566}
          y1={834}
          x2={566.566}
          y2={-0.0000192336}
          gradientUnits='userSpaceOnUse'>
          <Stop stopColor='#00C2FF' />
          <Stop offset={0.440625} stopColor='#AFE550' />
          <Stop offset={0.794792} stopColor='#FFF500' />
          <Stop offset={1} stopColor='#FF0000' />
        </LinearGradient>
      </Defs>
    </Svg>
  );
};

export default RightTachometer;
