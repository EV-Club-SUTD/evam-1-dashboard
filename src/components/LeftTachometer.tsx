import React from 'react';
import Svg, {
  Mask,
  Path,
  G,
  Defs,
  LinearGradient,
  Stop,
} from 'react-native-svg';
import Animated from 'react-native-reanimated';

import AnimatedBar from './AnimatedBar';
import { FINAL_TACHOMETER_HEIGHT } from '../utils/config';

const paths = [
  'M371.5 834L371.5 814.013L-2.96439e-05 814.013L-3.05176e-05 834L371.5 834Z',
  'M371.5 807.654L371.5 787.667L-2.84923e-05 787.667L-2.93659e-05 807.654L371.5 807.654Z',
  'M371.5 781.307L371.5 761.32L-2.73406e-05 761.32L-2.82143e-05 781.307L371.5 781.307Z',
  'M371.5 754.961L371.5 735.882L-2.62287e-05 735.882L-2.70627e-05 754.961L371.5 754.961Z',
  'M371.5 728.614L371.5 709.536L-2.50771e-05 709.536L-2.5911e-05 728.614L371.5 728.614Z',
  'M371.5 702.268L371.5 683.19L-2.39254e-05 683.19L-2.47594e-05 702.268L371.5 702.268Z',
  'M371.5 676.83L371.5 656.843L-2.27738e-05 656.843L-2.36475e-05 676.83L371.5 676.83Z',
  'M371.5 650.484L371.5 630.497L-2.16222e-05 630.497L-2.24958e-05 650.484L371.5 650.484Z',
  'M371.5 624.137L371.5 604.15L-2.04705e-05 604.15L-2.13442e-05 624.137L371.5 624.137Z',
  'M371.5 597.791L371.5 577.804L-1.93189e-05 577.804L-2.01925e-05 597.791L371.5 597.791Z',
  'M371.5 571.444L371.5 551.458L-1.81673e-05 551.458L-1.90409e-05 571.444L371.5 571.444Z',
  'M371.5 545.098L371.5 525.111L-1.70156e-05 525.111L-1.78893e-05 545.098L371.5 545.098Z',
  'M371.5 518.752L371.5 498.765L-1.5864e-05 498.765L-1.67376e-05 518.752L371.5 518.752Z',
  'M371.5 492.405L371.5 472.418L-1.47123e-05 472.418L-1.5586e-05 492.405L371.5 492.405Z',
  'M371.5 466.059L371.5 446.98L-1.36004e-05 446.98L-1.44344e-05 466.059L371.5 466.059Z',
  'M371.5 439.712L371.5 420.634L-1.24488e-05 420.634L-1.32827e-05 439.712L371.5 439.712Z',
  'M371.5 413.366L371.5 394.288L-1.12971e-05 394.288L-1.21311e-05 413.366L371.5 413.366Z',
  'M371.5 387.02L371.5 367.941L-1.01455e-05 367.941L-1.09794e-05 387.02L371.5 387.02Z',
  'M371.5 361.582L371.5 341.595L-8.99386e-06 341.595L-9.86752e-06 361.582L371.5 361.582Z',
  'M371.5 335.235L371.5 315.248L-7.84222e-06 315.248L-8.71588e-06 335.235L371.5 335.235Z',
  'M371.5 308.889L371.5 288.902L-6.69059e-06 288.902L-7.56424e-06 308.889L371.5 308.889Z',
  'M371.5 282.542L371.5 262.556L-5.53895e-06 262.556L-6.4126e-06 282.542L371.5 282.542Z',
  'M371.5 256.196L371.5 236.209L-4.38731e-06 236.209L-5.26097e-06 256.196L371.5 256.196Z',
  'M371.5 229.85L371.5 209.863L-3.23567e-06 209.863L-4.10933e-06 229.85L371.5 229.85Z',
  'M371.5 203.503L371.5 183.516L-2.08404e-06 183.516L-2.95769e-06 203.503L371.5 203.503Z',
  'M371.5 177.157L371.5 157.17L-9.32396e-07 157.17L-1.80605e-06 177.157L371.5 177.157Z',
  'M371.5 150.81L371.5 131.732L1.79531e-07 131.732L-6.54413e-07 150.81L371.5 150.81Z',
  'M371.5 124.464L371.5 105.386L1.33117e-06 105.386L4.97223e-07 124.464L371.5 124.464Z',
  'M371.5 98.1176L371.5 79.0392L2.48281e-06 79.0392L1.64886e-06 98.1176L371.5 98.1176Z',
  'M371.5 72.6797L371.5 52.6928L3.63444e-06 52.6928L2.76079e-06 72.6797L371.5 72.6797Z',
  'M371.5 46.3333L371.5 26.3464L4.78608e-06 26.3464L3.91243e-06 46.3333L371.5 46.3333Z',
  'M371.5 19.9869L371.5 0L5.93772e-06 -1.62388e-05L5.06406e-06 19.9869L371.5 19.9869Z',
];

interface LeftTachometerProps {
  progress: Animated.SharedValue<number>;
}

const LeftTachometer = ({ progress }: LeftTachometerProps) => (
  <Svg
    width={FINAL_TACHOMETER_HEIGHT * 0.66325}
    height={FINAL_TACHOMETER_HEIGHT}
    viewBox='0 0 564 848'
    fill='none'>
    <Mask
      id='mask0'
      mask-type='alpha'
      maskUnits='userSpaceOnUse'
      x={0}
      y={0}
      width={372}
      height={834}>
      {paths.map((d, key) => (
        // eslint-disable-next-line react/no-array-index-key
        <AnimatedBar d={d} progress={progress} key={key} index={key} />
      ))}
    </Mask>
    <G mask='url(#mask0)'>
      <Path
        d='M202.5 483.368L299.5 834L234.5 834L0.566443 -1.30668e-05L202.5 -4.24001e-06C202.5 -4.24001e-06 185 40.5253 162 148.006C139 255.486 202.5 483.368 202.5 483.368Z'
        fill='url(#paint0_linear)'
      />
    </G>
    <Path
      d='M358.032 834H369.648C376.704 834 381.36 830.64 381.36 824.928V824.784C381.36 820.224 378.336 817.872 374.4 816.72C377.184 815.616 379.92 813.36 379.92 808.896V808.8C379.92 806.544 379.104 804.672 377.712 803.28C375.84 801.408 372.96 800.4 369.408 800.4H358.032V834ZM376.272 809.376C376.272 813.264 373.344 815.472 368.88 815.472H361.632V803.664H369.216C373.68 803.664 376.272 805.824 376.272 809.28V809.376ZM377.712 824.592V824.688C377.712 828.528 374.64 830.736 369.792 830.736H361.632V818.64H369.36C374.784 818.64 377.712 820.848 377.712 824.592ZM387.704 834H391.304V820.944H398.936L407.384 834H411.704L402.68 820.224C407.336 819.072 410.648 815.856 410.648 810.528V810.432C410.648 807.6 409.688 805.2 408.008 803.52C406.088 801.552 403.016 800.4 399.176 800.4H387.704V834ZM391.304 817.68V803.712H398.936C403.976 803.712 407.048 806.16 407.048 810.576V810.672C407.048 814.944 404.024 817.68 398.552 817.68H391.304ZM414.928 834H418.624L421.888 825.168H437.008L440.272 834H444.112L431.296 800.208H427.744L414.928 834ZM423.088 821.904L429.472 804.864L435.808 821.904H423.088ZM449.72 834H453.32V824.592L458.984 818.016L470.024 834H474.392L461.48 815.088L473.72 800.4H469.256L453.32 819.792V800.4H449.72V834ZM479.298 834H500.034V830.688H482.898V818.688H498.066V815.424H482.898V803.712H499.794V800.4H479.298V834Z'
      fill='white'
    />
    <Path d='M239 847H564' stroke='white' strokeWidth={2} />
    <Defs>
      <LinearGradient
        id='paint0_linear'
        x1={0.000147511}
        y1={834}
        x2={0.000167722}
        y2={-0.0000192336}
        gradientUnits='userSpaceOnUse'>
        <Stop stopColor='#00C2FF' />
        <Stop offset={0.440625} stopColor='#AFE550' />
        <Stop offset={0.794792} stopColor='#FFF500' />
        <Stop offset={1} stopColor='#FF0000' />
      </LinearGradient>
    </Defs>
  </Svg>
);

export default LeftTachometer;
